<script type="text/javascript">
  console.log('hello, custom message from Jekyll startup starter');
  $(".main-cta").sticky({
    responsiveWidth: true,
    getWidthFrom:'.w150p'
  });
  $('.main-cta').on('sticky-start', function() {
    $('.secondary-cta').css('display', 'none');
    $('.main-cta').css('margin-top', '1rem'); // XXX : hacky, indeed
    $('.main-cta').text('Github');
    $('body').toggleClass('is-sticky');
  });
  $('.main-cta').on('sticky-end', function() { 
    $('.secondary-cta').css('display', '');
    $('.main-cta').css('margin-top', '');
    $('.main-cta').text('Get it from Github');
    $('body').toggleClass('is-sticky');
  });

function toggleNavigation() {

  if ($('body').hasClass("is-expanded")) {
    $('body').removeClass("is-expanded")
  } else {
    $('body').addClass("is-expanded")
  }

  if ($('#nav-toggle').hasClass("active")) {
    $('#nav-toggle').removeClass("active")
  } else {
    $('#nav-toggle').addClass("active")
  }

}

$(document).ready(function(){
  
  $("#nav-toggle").on("click", function() {
    toggleNavigation();
  });

  $(".nav-item").on("click", function(e) {
    toggleNavigation();
    $.scrollTo(
      '.' + $(e.currentTarget).attr('data-target'), {duration:500});
  });

  $( window ).resize(function() {
    if ( ! $('body').hasClass("is-sticky") ) {
      $('.main-cta').width('auto');
    }
  });
});

</script>
